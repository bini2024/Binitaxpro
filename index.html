<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Bini Tax – Your Tax Filing Business</title>
  <meta name="description" content="Bini Tax provides reliable and professional tax filing services for individuals and businesses. Get expert help with tax planning, consultation, and audit support in Canada.">
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">

  <style>
    /* --- Color Palette --- */
    :root {
        --dark-blue: #004080;
        --white: #FFFFFF;
        --light-grey: #f8f9fa;
        --medium-grey: #e9ecef;
        --dark-grey-text: #333;
        --accent-blue: #0056b3; /* Slightly lighter dark blue for hover/accents */
    }

    /* Base styles */
    body {
      font-family: 'Open Sans', sans-serif;
      margin: 0;
      padding: 0;
      line-height: 1.6;
      background-color: var(--light-grey);
      color: var(--dark-grey-text);
      overflow-x: hidden;
    }
    .container {
      width: 90%;
      margin: auto;
      max-width: 1200px;
      padding: 0 15px;
    }
    h1, h2, h3 {
      font-family: 'Playfair Display', serif;
      margin: 10px 0;
      color: var(--dark-blue);
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
    }
    h2 {
        text-align: center;
        margin-bottom: 30px;
        font-size: 2.5em;
    }
    h3 {
        font-size: 1.8em;
    }

    /* Header & Navigation */
    header {
      background-color: var(--dark-blue);
      color: var(--white);
      padding: 20px 0;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    header .container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
    }
    header h1 {
        margin: 0;
        color: var(--white);
        font-size: 2.8em;
        text-shadow: none;
    }
    
    /* --- Language Switcher --- */
    .lang-switcher {
        display: flex;
        gap: 10px;
        margin-left: auto; /* Pushes it to the right, before nav/hamburger */
        margin-right: 20px;
    }
    .lang-switcher button {
        background: transparent;
        border: 1px solid var(--white);
        color: var(--white);
        padding: 5px 10px;
        border-radius: 4px;
        cursor: pointer;
        font-family: 'Open Sans', sans-serif;
        font-weight: bold;
        transition: background-color 0.3s ease, color 0.3s ease;
    }
    .lang-switcher button:hover, .lang-switcher button.active {
        background-color: var(--white);
        color: var(--dark-blue);
    }

    /* --- Hamburger Menu Styles --- */
    .hamburger {
        display: none;
        flex-direction: column;
        justify-content: space-around;
        width: 30px;
        height: 25px;
        background: transparent;
        border: none;
        cursor: pointer;
        padding: 0;
        z-index: 1100;
    }
    .hamburger .line {
        width: 100%;
        height: 3px;
        background-color: var(--white);
        border-radius: 3px;
        transition: all 0.3s ease-in-out;
    }

    /* Styles for the side panel */
    .side-panel {
        height: 100%;
        width: 0;
        position: fixed;
        top: 0;
        right: 0;
        background-color: var(--dark-blue);
        overflow-x: hidden;
        transition: 0.3s ease;
        padding-top: 80px;
        z-index: 1050;
        box-shadow: -4px 0 15px rgba(0, 0, 0, 0.3);
    }
    .side-panel.open {
        width: 280px;
    }
    .side-panel nav ul {
        list-style-type: none;
        padding: 0;
        margin: 0;
    }
    .side-panel nav ul li {
        margin: 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
     .side-panel nav ul li:last-child {
       border-bottom: none;
     }
    .side-panel nav ul li a {
        color: var(--white);
        text-decoration: none;
        font-weight: bold;
        font-size: 1.2em;
        transition: background-color 0.3s ease;
        display: block;
        padding: 15px 30px;
    }
    .side-panel nav ul li a:hover, .side-panel nav ul li a:focus {
        background-color: var(--accent-blue);
        outline: none;
    }
    .close-btn {
        position: absolute;
        top: 20px;
        right: 25px;
        font-size: 35px;
        margin-left: 50px;
        color: var(--white);
        cursor: pointer;
        border: none;
        background: transparent;
        z-index: 1150;
        transition: color 0.3s ease;
    }
     .close-btn:hover {
       color: #dc3545;
     }
    
    /* Overlay */
    .overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.6);
        z-index: 1040;
        transition: opacity 0.3s ease;
    }
    .overlay.visible {
        display: block;
        opacity: 1;
    }

    /* --- Desktop Navigation Styles (NEW) --- */
    header nav {
        display: block;
    }
    header nav ul {
        list-style-type: none;
        margin: 0;
        padding: 0;
        display: flex;
        flex-wrap: wrap; /* Allows nav to wrap if screen is too small */
    }
    header nav ul li {
        margin-left: 25px;
    }
    header nav ul li a {
        color: var(--white);
        text-decoration: none;
        font-weight: 600;
        font-size: 1em;
        padding: 5px 0;
        transition: color 0.3s ease;
        border-bottom: 2px solid transparent;
    }
    header nav ul li a:hover,
    header nav ul li a:focus {
        color: var(--medium-grey);
        border-bottom-color: var(--medium-grey);
        outline: none;
    }


    /* Hero Section */
    .hero {
      background-color: var(--accent-blue);
      color: var(--white);
      text-align: center;
      padding: 100px 20px;
      border-bottom: 4px solid var(--dark-blue);
      min-height: 450px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }
     .hero::before {
       content: '';
       position: absolute;
       top: 0;
       left: 0;
       width: 100%;
       height: 100%;
       background: linear-gradient(to bottom, rgba(0, 64, 128, 0.8), rgba(0, 86, 179, 0.8));
       z-index: 1;
     }
    .hero .container {
        max-width: 900px;
        position: relative;
        z-index: 2;
    }
    .hero h2 {
        color: var(--white);
        font-size: 3em;
        margin-bottom: 20px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    }
    .hero p {
        font-size: 1.3em;
        margin-bottom: 40px;
    }
    .cta-button {
      background-color: var(--white);
      color: var(--dark-blue);
      padding: 18px 35px;
      text-decoration: none;
      border-radius: 5px;
      font-size: 1.2em;
      font-weight: bold;
      display: inline-block;
      transition: background-color 0.3s ease, color 0.3s ease;
      border: 2px solid var(--white);
    }
    .cta-button:hover, .cta-button:focus {
      background-color: var(--dark-blue);
      color: var(--white);
      border-color: var(--dark-blue);
      outline: none;
    }

    /* Section Styles */
    section {
      padding: 80px 20px;
      margin: 30px 0;
      background-color: var(--white);
      border-radius: 10px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }
    /* Grid for Cards */
    .services-grid, .resources-grid, .testimonials-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 30px;
    }
    .service-card, .resource-card, .testimonial-card {
      background: var(--medium-grey);
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      border-top: 4px solid var(--dark-blue);
    }
     .resource-card {
       border-top-color: var(--accent-blue);
     }
     .testimonial-card {
       border-top-color: #28a745; /* Green for testimonials */
       background-color: var(--white);
       border: 1px solid var(--medium-grey);
     }
    .service-card h3, .resource-card h3, .testimonial-card h3 {
        margin-top: 0;
        margin-bottom: 15px;
        color: var(--dark-blue);
        font-size: 1.6em;
    }
     .resource-card small {
       margin-top: 15px;
       display: block;
       color: #555;
       font-size: 0.9em;
     }
     .testimonial-card p {
       font-style: italic;
     }
     .testimonial-card footer {
       background: none;
       color: var(--dark-blue);
       text-align: right;
       font-weight: bold;
       font-size: 1em;
       margin-top: 15px;
       padding: 0;
     }
    .service-card:hover, .service-card:focus,
    .resource-card:hover, .resource-card:focus,
    .testimonial-card:hover, .testimonial-card:focus {
      transform: translateY(-8px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
      outline: none;
    }
     .service-card p, .resource-card p {
       font-size: 1em;
       color: var(--dark-grey-text);
     }
    
    /* About Us - Credentials */
    .credentials {
        background-color: var(--medium-grey);
        padding: 20px;
        border-radius: 8px;
        text-align: center;
        margin-top: 30px;
        border-left: 5px solid var(--dark-blue);
    }
    .credentials h3 {
        margin-top: 0;
    }
    .credentials ul {
        list-style: none;
        padding: 0;
    }
    .credentials li {
        font-weight: bold;
        font-size: 1.1em;
        margin: 5px 0;
    }
      
    /* Privacy Policy */
    #privacy {
        background-color: var(--white);
    }
    #privacy h3 {
        font-size: 1.5em;
        border-bottom: 2px solid var(--medium-grey);
        padding-bottom: 5px;
    }

    /* FAQ styles */
    .faq-item {
      margin: 15px 0;
      cursor: pointer;
      background-color: var(--dark-blue);
      color: var(--white);
      padding: 15px 20px;
      border-radius: 5px;
      transition: background-color 0.3s ease;
      font-weight: bold;
      font-size: 1.1em;
      border: 1px solid var(--dark-blue);
    }
    .faq-item:hover, .faq-item:focus {
      background-color: var(--accent-blue);
      outline: none;
    }
    .faq-answer {
      display: none;
      margin-top: 10px;
      padding: 15px 20px;
      border-left: 4px solid var(--accent-blue);
      background-color: var(--medium-grey);
      color: var(--dark-grey-text);
      border-radius: 0 0 5px 5px;
    }

    /* Form Styles */
    form {
      display: flex;
      flex-direction: column;
      max-width: 700px;
      margin: 30px auto;
      padding: 30px;
      background-color: var(--white);
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      border-top: 5px solid var(--dark-blue);
    }
    form label {
      margin: 15px 0 5px;
      font-weight: bold;
      color: var(--dark-blue);
      font-size: 1.1em;
    }
    form input, form textarea, form select {
      padding: 15px;
      margin-bottom: 20px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 1em;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
    }
     form input:focus, form textarea:focus, form select:focus {
       border-color: var(--accent-blue);
       box-shadow: 0 0 8px rgba(0, 86, 179, 0.2);
       outline: none;
     }
    form textarea {
        min-height: 150px;
        resize: vertical;
    }
    form button {
      background-color: var(--dark-blue);
      color: var(--white);
      padding: 15px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      font-size: 1.1em;
      transition: background-color 0.3s ease, opacity 0.3s ease;
    }
    form button:hover, form button:focus {
      background-color: var(--accent-blue);
      opacity: 0.9;
      outline: none;
    }
    /* Form Message Styles */
    #appointment-message, #form-message {
        text-align: center;
        margin-top: 20px;
        padding: 15px;
        border-radius: 5px;
        font-weight: bold;
        font-size: 1em;
    }
    .success-message {
        color: #155724;
        background-color: #d4edda;
        border: 1px solid #c3e6cb;
    }
    .error-message {
        color: #721c24;
        background-color: #f8d7da;
        border: 1px solid #f5c6cb;
    }

    /* Footer styles */
    footer {
      background-color: var(--dark-blue);
      color: var(--white);
      text-align: center;
      padding: 30px 0;
      margin-top: 50px;
      font-size: 0.9em;
    }
    footer p {
        margin: 8px 0;
    }
    footer a {
        color: var(--white);
        text-decoration: none;
        transition: text-decoration 0.3s ease;
    }
     footer a:hover {
       text-decoration: underline;
     }

    /* Admin Panel styles */
    #admin {
      background-color: #fff3cd;
      border: 1px dashed #ffeeba;
    }
    #admin h2 {
      color: #856404;
    }
    #admin form {
        background-color: var(--white);
        box-shadow: 0 1px 5px rgba(0, 0, 0, 0.05);
        border-top-color: #856404;
    }
    #admin form label {
        color: #856404;
    }
    #admin form input, #admin form textarea, #admin form select {
      border-color: #ffeeba;
      background-color: var(--white);
    }
     #admin-content h3 {
       margin-top: 30px;
       border-bottom: 1px solid #ccc;
       padding-bottom: 10px;
     }
     #admin-resources-list ul, #admin-messages-list ul {
       list-style: none;
       padding: 0;
     }
      #admin-resources-list li, #admin-messages-list li {
       background-color: var(--white);
       border: 1px solid #eee;
       margin-bottom: 10px;
       padding: 15px;
       border-radius: 4px;
       display: flex;
       justify-content: space-between;
       align-items: center;
       flex-wrap: wrap;
     }
     /* Specific style for messages */
     #admin-messages-list li {
       display: block; /* Stack content vertically */
     }
     #admin-messages-list li .msg-header {
       font-weight: bold;
       margin-bottom: 10px;
       padding-bottom: 5px;
       border-bottom: 1px dotted #ccc;
     }
     #admin-messages-list li .msg-content {
       margin: 10px 0;
     }
     #admin-messages-list li small {
       color: #555;
       font-style: italic;
     }

     #admin-resources-list li button {
       margin-left: 15px;
       padding: 8px 15px;
       background-color: #dc3545;
       color: var(--white);
       border: none;
       border-radius: 4px;
       cursor: pointer;
     }
       #admin-resources-list li button:hover {
       background-color: #c82333;
       }
       #logout-btn {
           background-color: #6c757d;
           color: var(--white);
           padding: 10px 20px;
           border: none;
           border-radius: 4px;
           cursor: pointer;
           margin-bottom: 20px;
           display: inline-block;
       }
       #logout-btn:hover {
           background-color: #5a6268;
       }

       /* Admin Appointments List Grouped by Date */
       #appointments-list {
           margin-top: 20px;
       }
       .appointment-date-group {
           margin-bottom: 30px;
           padding: 20px;
           background-color: var(--white);
           border: 1px solid #eee;
           border-radius: 8px;
           box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
       }
        .appointment-date-group h4 {
           margin-top: 0;
           margin-bottom: 15px;
           padding-bottom: 5px;
           border-bottom: 1px dashed #ccc;
           color: var(--dark-blue);
           font-size: 1.2em;
        }
        .appointment-date-group ul {
           list-style: none;
           padding: 0;
        }
         .appointment-date-group li {
           margin-bottom: 15px;
           padding-bottom: 15px;
           border-bottom: 1px dotted #eee;
         }
         .appointment-date-group li:last-child {
           border-bottom: none;
           padding-bottom: 0;
         }
         .appointment-date-group li strong {
           color: var(--accent-blue);
         }


    /* --- Responsive Styles --- */
    @media (max-width: 768px) {
        h2 {
            font-size: 2em;
        }
        h3 {
            font-size: 1.5em;
        }
        header .container {
            flex-direction: row;
            justify-content: space-between;
            text-align: left;
        }
         header h1 {
           margin-bottom: 0;
           font-size: 2.2em;
         }
        
        /* Adjust lang switcher for mobile */
        .lang-switcher {
            margin-left: 0; /* Reset margin */
            margin-right: 10px;
            padding: 0;
            background: none;
            box-shadow: none;
            width: auto; /* Auto width */
        }
        .lang-switcher button {
            padding: 3px 6px;
            font-size: 0.8em;
        }
        
        .hamburger {
            display: flex;
        }

        /* --- Hide Desktop Nav on Mobile --- */
        header nav {
           display: none;
        }

        .side-panel.open {
            width: 220px;
        }

        .hero {
            padding: 80px 15px;
            min-height: 350px;
        }
        .hero h2 {
            font-size: 2.2em;
        }
         .hero p {
           font-size: 1.1em;
         }

        section {
            padding: 50px 15px;
            margin: 20px 0;
        }

        .services-grid, .resources-grid, .testimonials-grid {
            grid-template-columns: 1fr;
            gap: 25px;
        }

        form {
            padding: 20px;
        }
         form input, form textarea, form select {
             padding: 12px;
             margin-bottom: 15px;
         }
          form button {
             padding: 12px;
          }

         #admin-resources-list li, .appointment-date-group li {
             flex-direction: column;
             align-items: flex-start;
             padding: 10px;
         }
         #admin-resources-list li button {
             margin-left: 0;
             margin-top: 10px;
             padding: 5px 10px;
         }
         #admin-messages-list li {
             align-items: flex-start; /* Already block, but good to have */
         }
         
         .appointment-date-group li {
             padding-bottom: 10px;
             margin-bottom: 10px;
         }
         .appointment-date-group li:last-child {
             padding-bottom: 0;
             margin-bottom: 0;
         }
          .appointment-date-group h4 {
             margin-bottom: 10px;
         }
    }
     /* Styles to prevent content shifting when panel opens */
     body.panel-open {
       overflow: hidden;
     }
     #content-wrapper {
       transition: transform 0.3s ease;
     }
     body.panel-open #content-wrapper {
       transform: translateX(-280px);
     }
     
     /* --- (FIX) Mobile content shift fix --- */
     @media (max-width: 768px) {
        body.panel-open #content-wrapper {
            transform: translateX(-220px);
        }
     }
  </style>
</head>
<body>
    <div id="content-wrapper">
        <header>
          <div class="container">
            <h1>Bini Tax</h1>
            
            <div class="lang-switcher">
                <button id="lang-en" class="active" onclick="switchLanguage('en')">EN</button>
                <button id="lang-am" onclick="switchLanguage('am')">AM</button>
                <button id="lang-ti" onclick="switchLanguage('ti')">TI</button>
            </div>
            
            <button class="hamburger" aria-label="Toggle navigation menu">
                <div class="line"></div>
                <div class="line"></div>
                <div class="line"></div>
            </button>
            
            <nav aria-label="Main Navigation">
              <ul>
                <li><a href="#home" data-key="navHome">Home</a></li>
                <li><a href="#about" data-key="navAbout">About</a></li>
                <li><a href="#services" data-key="navServices">Services</a></li>
                <li><a href="#resources" data-key="navResources">Resources & News</a></li>
                <li><a href="#appointment" data-key="navAppointment">Book Appointment</a></li>
                <li><a href="#contact" data-key="navContact">Contact</a></li>
                </ul>
            </nav>
          </div>
        </header>

        <section id="home" class="hero">
          <div class="container">
            <h2 data-key="heroTitle">Your Trusted Partner for Tax Filing Services</h2>
            <p data-key="heroSubtitle">Making tax filing simple and stress-free. Let us help you maximize your returns and stay compliant.</p>
            <a href="portal.html" class="cta-button" data-key="heroCTA">Get Started Today!</a>
          </div>
        </section>
        
        <section id="about">
          <div class="container">
            <h2 data-key="aboutTitle">About Us</h2>
            <p data-key="aboutText">Founded to provide reliable and professional tax filing services to individuals and businesses. With over [Insert Your Years of Experience] years of experience, we understand the nuances of the Canadian tax system. Our dedicated team is here to ensure you receive the best possible service and support, helping you navigate complexities and achieve peace of mind.</p>
            
            <div class="credentials">
                <h3 data-key="aboutCredentialsTitle">Our Credentials</h3>
                <ul>
                    <li data-key="aboutCredential1">[Your Certification, e.g., CPA, E-filer]</li>
                    <li data-key="aboutCredential2">[Member of [Association]]</li>
                    <li data-key="aboutCredential3">[Etc.]</li>
                </ul>
            </div>
          </div>
        </section>
        
        <section id="services">
          <div class="container">
            <h2 data-key="servicesTitle">Our Services</h2>
            <div class="services-grid">
              <div class="service-card" tabindex="0">
                <h3 data-key="service1Title">Newcomer Return</h3>
                <p data-key="service1Desc">For first-time filers in Canada. We'll help you understand Canadian tax obligations and maximize credits like the GST/HST credit and CCB.</p>
              </div>
              <div class="service-card" tabindex="0">
                <h3 data-key="service2Title">Self-Employed / Business Return</h3>
                <p data-key="service2Desc">For ride-share, small business, or contract workers. We ensure you claim all eligible business expenses (T2125).</p>
              </div>
              <div class="service-card" tabindex="0">
                <h3 data-key="service3Title">Foreign Income & Assets</h3>
                <p data-key="service3Desc">Expert help for clients with property or income outside Canada, including T1135 (Foreign Income Verification Statement) filing.</p>
              </div>
              <div class="service-card" tabindex="0">
                <h3 data-key="service4Title">Standard/Family Return</h3>
                <p data-key="service4Desc">Comprehensive filing for individuals and families, ensuring you get all deductions for dependents, tuition, and medical expenses.</p>
              </div>
              <div class="service-card" tabindex="0">
                <h3 data-key="service5Title">Tax Consultation & Planning</h3>
                <p data-key="service5Desc">Strategic, year-round advice to minimize liabilities, optimize your financial outcomes, and prepare effectively for the future.</p>
              </div>
            </div>
          </div>
        </section>
        
        <section id="resources">
          <div class="container">
            <h2 data-key="resourcesTitle">Resources & News</h2>
            <div id="resources-list" class="resources-grid">
              <div class="resource-card" tabindex="0">
                  <h3 data-key="resource1Title">Tax Guide for Newcomers to Canada</h3>
                  <p data-key="resource1Desc">Welcome! Learn about your tax obligations, important credits (like GST/HST), and benefits you may be eligible for.</p>
                  <small>Posted on: October 28, 2025</small>
              </div>
              <div class="resource-card" tabindex="0">
                  <h3 data-key="resource2Title">Tax Tips for Uber/SkipTheDishes Drivers</h3>
                  <p data-key="resource2Desc">Understand how to report your income and what expenses you can claim, from gas and insurance to a portion of your cell phone bill.</p>
                  <small>Posted on: October 25, 2025</small>
              </div>
              <div class="resource-card" tabindex="0">
                  <h3 data-key="resource3Title">What is the Canada Child Benefit (CCB)?</h3>
                  <p data-key="resource3Desc">A tax-free monthly payment to help with the cost of raising children. Learn how it's calculated and how to apply.</p>
                  <small>Posted on: October 22, 2025</small>
              </div>
            </div>
          </div>
        </section>
        
        <section id="appointment">
          <div class="container">
            <h2 data-key="appointmentTitle">Book an Appointment</h2>
            <p data-key="appointmentDesc" style="text-align: center; margin-bottom: 20px;">We've made booking easy! Choose a time that works for you using our online scheduler. No more back-and-forth emails. We will confirm your booking instantly.</p>
            
            <div class="calendly-inline-widget" data-url="https://calendly.com/peterbenjamin858/30min" style="min-width:320px;height:700px; border-radius: 8px; border: 2px solid var(--medium-grey);"></div>
            </div>
        </section>

        <section id="testimonials">
            <div class="container">
                <h2 data-key="testimonialsTitle">What Our Clients Say</h2>
                <div class="testimonials-grid">
                    <div class="testimonial-card" tabindex="0">
                        <p data-key="testimonial1Text">"[Placeholder: Bini Tax made my first tax return in Canada so easy to understand. They were patient and helped me get benefits I didn't even know about.]"</p>
                        <footer>- <span data-key="testimonial1Name">[Placeholder: A.A., Toronto]</span></footer>
                    </div>
                    <div class="testimonial-card" tabindex="0">
                        <p data-key="testimonial2Text">"[Placeholder: As a self-employed driver, my taxes are complicated. Bini Tax handled everything professionally and found me so many deductions. Highly recommend!]"</p>
                        <footer>- <span data-key="testimonial2Name">[Placeholder: S.M., Scarborough]</span></footer>
                    </div>
                    <div class="testimonial-card" tabindex="0">
                        <p data-key="testimonial3Text">"[Placeholder: It's a relief to have a tax professional who speaks my language and understands my situation. Trustworthy and reliable service every year.]"</p>
                        <footer>- <span data-key="testimonial3Name">[Placeholder: F.G., Etobicoke]</span></footer>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="faq">
          <div class="container">
            <h2 data-key="faqTitle">Frequently Asked Questions</h2>
            <div class="faq-item" tabindex="0" data-key="faq1Question">What documents do I need for tax filing?</div>
            <div class="faq-answer" data-key="faq1Answer">You will need your income statements (T4s, T4As, etc.), receipts for eligible deductions and credits, and any other relevant financial documents. A detailed checklist is available upon booking.</div>
            
            <div class="faq-item" tabindex="0" data-key="faq2Question">How can I maximize my tax refund?</div>
            <div class="faq-answer" data-key="faq2Answer">Maximizing your refund involves identifying all eligible deductions and credits. Our experts will review your situation to ensure you claim everything you qualify for. Proactive tax planning can also help throughout the year.</div>
            
            <div class="faq-item" tabindex="0" data-key="faq3Question">What if I owe taxes?</div>
            <div class="faq-answer" data-key="faq3Answer">If you owe taxes, it’s crucial to file your return on time to avoid penalties and interest. We can help calculate your tax liability and discuss payment options or strategies if needed.</div>
            
            <div class="faq-item" tabindex="0" data-key="faq4Question">How long does the tax filing process take?</div>
            <div class="faq-answer" data-key="faq4Answer">The timeline varies depending on the complexity of your return and the volume of submissions. Generally, once we have all necessary documents, the process can take anywhere from a few business days to a couple of weeks. We will provide a more accurate estimate during your appointment.</div>
          </div>
        </section>
        
        <section id="contact">
          <div class="container">
            <h2 data-key="contactTitle">Contact Us</h2>
            <p data-key="contactDesc" style="text-align: center; margin-bottom: 20px;">Have a question or need assistance? Send us a message or use the contact details below.</p>
            <form id="contact-form">
              <label for="contact-name" data-key="formName">Name:</label>
              <input type="text" id="contact-name" name="contact-name" required>
                                
              <label for="contact-email" data-key="formEmail">Email:</label>
              <input type="email" id="contact-email" name="contact-email" required>
                                
              <label for="contact-message" data-key="formMessage">Message:</label>
              <textarea id="contact-message" name="contact-message" required></textarea>
                                
              <button type="submit" data-key="formSend">Send Message</button>
            </form>
            <div id="form-message" aria-live="polite"></div>
             <div style="text-align: center; margin-top: 30px;">
                 <p><span data-key="contactPhone">Phone:</span> <a href="tel:[Your Phone Number Here]">**[Your Phone Number Here]**</a></p>
                 <p><span data-key="contactEmail">Email:</span> <a href="mailto:[Your Email Here]">**[Your Email Here]**</a></p>
                 </div>
          </div>
        </section>

        <section id="privacy">
            <div class="container">
                <h2 data-key="privacyTitle">Privacy Policy</h2>
                <p data-key="privacyText">[Placeholder: This is where you will put your privacy policy. You should explain to your clients what data you collect (e.g., from the contact and appointment forms), how you use it, how you protect it (e.g., using secure Firebase), and that you do not share it with third parties without their consent.]</p>
                <h3 data-key="privacySub1">Data We Collect</h3>
                <p data-key="privacySub1Text">[Placeholder: Explain the personal information you collect.]</p>
                <h3 data-key="privacySub2">How We Use Your Data</h3>
                <p data-key="privacySub2Text">[Placeholder: Explain how you use this data to provide your services.]</p>
            </div>
        </section>
        
        <section id="admin">
          <div class="container">
            <h2>Admin Panel</h2>
            <div id="admin-auth-section">
              <h3>Admin Login</h3>
              <form id="admin-login-form">
                <label for="admin-email">Email:</label>
                <input type="email" id="admin-email" required>
                <label for="admin-password">Password:</label>
                <input type="password" id="admin-password" required>
                <button type="submit">Login</button>
              </form>
            </div>
            <div id="admin-content" style="display: none;">
              <button id="logout-btn">Logout</button>
              
              <div id="resources-management">
                <h3>Manage Resources & News</h3>
                <form id="resources-form">
                  <label for="resources-title">Title:</label>
                  <input type="text" id="resources-title" required>
                  <label for="resources-content">Content:</label>
                  <textarea id="resources-content" required></textarea>
                  <button type="submit">Post Resource</button>
                </form>
                <h4>Existing Resources</h4>
                <div id="admin-resources-list">
                    <p>Loading resources...</p>
                </div>
              </div>

              <div id="appointments-section">
                <h3>Appointments (from old form)</h3>
                  <p>Loading appointments...</p>
                  <div id="appointments-list">
                  </div>
              </div>

              <div id="messages-section">
                <h3>Client Messages</h3>
                  <p>Loading messages...</p>
                  <div id="admin-messages-list">
                  </div>
              </div>

            </div>
            </div>
        </section>
        
        <footer>
          <div class="container">
            <p>&copy; 2024 Bini Tax. All rights reserved.</p>
            <p>
                <a href="#privacy" data-key="footerPrivacy">Privacy Policy</a> | 
                <a href="#contact" data-key="footerContact">Contact Us</a>
            </p>
            <p>
                <span data-key="footerPhone">Phone:</span> <a href="tel:[Your Phone Number Here]">**[Your Phone Number Here]**</a> | 
                <span data-key="footerEmail">Email:</span> <a href="mailto:[Your Email Here]">**[Your Email Here]**</a>
            </p>
          </div>
        </footer>
    </div> 

    <div id="sidePanel" class="side-panel">
      <button class="close-btn" aria-label="Close navigation menu">&times;</button>
      <nav aria-label="Side Navigation">
          <ul>
            <li><a href="#home" data-key="navHome">Home</a></li>
            <li><a href="#about" data-key="navAbout">About</a></li>
            <li><a href="#services" data-key="navServices">Services</a></li>
            <li><a href="#resources" data-key="navResources">Resources & News</a></li>
            <li><a href="#appointment" data-key="navAppointment">Book Appointment</a></li>
            <li><a href="#testimonials" data-key="navTestimonials">Testimonials</a></li>
            <li><a href="#faq" data-key="navFAQ">FAQ</a></li>
            <li><a href="#contact" data-key="navContact">Contact</a></li>
            <li><a href="#admin" data-key="navAdmin">Admin</a></li>
            <li><a href="#privacy" data-key="navPrivacy">Privacy Policy</a></li>
          </ul>
      </nav>
    </div>

    <div id="overlay" class="overlay"></div>


  <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore-compat.js"></script>
  <script>
    // ------------------------------------------------------------------
    // !!!!!!!!!!! MAJOR SECURITY WARNING !!!!!!!!!!!
    // ------------------------------------------------------------------
    // Your API key is visible here. This is EXTREMELY DANGEROUS for a
    // public website. Anyone can see it and use your Firebase account,
    // which could cost you a lot of money.
    //
    // In a real project, you MUST protect this.
    // 1. Use Environment Variables (e.g., with Netlify, Vercel, or another host).
    // 2. Set up Firebase App Check to ensure requests only come from your website.
    // 3. Set up strict Firestore Security Rules to prevent unauthorized access.
    //
    // This key is ONLY for testing. Replace it before you go live!
    // ------------------------------------------------------------------
    const firebaseConfig = {
      apiKey: "AIzaSyB04f7lWMfmfGBVzO-cj8QY00I4OpIPmrY", // <-- THIS IS THE SECURITY RISK
      authDomain: "binitaxpro.firebaseapp.com",
      projectId: "binitaxpro",
      storageBucket: "binitaxpro.firebasestorage.app",
      messagingSenderId: "24434294736",
      appId: "1:24434294736:web:cb23f13957b24da13f43d5",
      measurementId: "G-XMYYJEDRPW"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    const auth = firebase.auth();

    // -----------------------------------------------------
    // Language Translation
    // -----------------------------------------------------
    // (FIX) I've added a few REAL translations for AM and TI to
    // show you that the function works. You must
    // replace all the other "[...]" placeholders.
    // -----------------------------------------------------
    const translations = {
        'en': {
            navHome: "Home",
            navAbout: "About",
            navServices: "Services",
            navResources: "Resources & News",
            navAppointment: "Book Appointment",
            navTestimonials: "Testimonials",
            navFAQ: "FAQ",
            navContact: "Contact",
            navAdmin: "Admin",
            navPrivacy: "Privacy Policy",
            heroTitle: "Your Trusted Partner for Tax Filing Services",
            heroSubtitle: "Making tax filing simple and stress-free. Let us help you maximize your returns and stay compliant.",
            heroCTA: "Get Started Today!",
            aboutTitle: "About Us",
            aboutText: "Founded to provide reliable and professional tax filing services to individuals and businesses. With over [Insert Your Years of Experience] years of experience, we understand the nuances of the Canadian tax system. Our dedicated team is here to ensure you receive the best possible service and support, helping you navigate complexities and achieve peace of mind.",
            aboutCredentialsTitle: "Our Credentials",
            aboutCredential1: "[Your Certification, e.g., CPA, E-filer]",
            aboutCredential2: "[Member of [Association]]",
            aboutCredential3: "[Etc.]",
            servicesTitle: "Our Services",
            service1Title: "Newcomer Return",
            service1Desc: "For first-time filers in Canada. We'll help you understand Canadian tax obligations and maximize credits like the GST/HST credit and CCB.",
            service2Title: "Self-Employed / Business Return",
            service2Desc: "For ride-share, small business, or contract workers. We ensure you claim all eligible business expenses (T2125).",
            service3Title: "Foreign Income & Assets",
            service3Desc: "Expert help for clients with property or income outside Canada, including T1135 (Foreign Income Verification Statement) filing.",
            service4Title: "Standard/Family Return",
            service4Desc: "Comprehensive filing for individuals and families, ensuring you get all deductions for dependents, tuition, and medical expenses.",
            service5Title: "Tax Consultation & Planning",
            service5Desc: "Strategic, year-round advice to minimize liabilities, optimize your financial outcomes, and prepare effectively for the future.",
            resourcesTitle: "Resources & News",
            resource1Title: "Tax Guide for Newcomers to Canada",
            resource1Desc: "Welcome! Learn about your tax obligations, important credits (like GST/HST), and benefits you may be eligible for.",
            resource2Title: "Tax Tips for Uber/SkipTheDishes Drivers",
            resource2Desc: "Understand how to report your income and what expenses you can claim, from gas and insurance to a portion of your cell phone bill.",
            resource3Title: "What is the Canada Child Benefit (CCB)?",
            resource3Desc: "A tax-free monthly payment to help with the cost of raising children. Learn how it's calculated and how to apply.",
            appointmentTitle: "Book an Appointment",
            appointmentDesc: "We've made booking easy! Choose a time that works for you using our online scheduler. No more back-and-forth emails. We will confirm your booking instantly.",
            testimonialsTitle: "What Our Clients Say",
            testimonial1Text: "[Placeholder: Bini Tax made my first tax return in Canada so easy to understand. They were patient and helped me get benefits I didn't even know about.]",
            testimonial1Name: "[Placeholder: A.A., Toronto]",
            testimonial2Text: "[Placeholder: As a self-employed driver, my taxes are complicated. Bini Tax handled everything professionally and found me so many deductions. Highly recommend!]",
            testimonial2Name: "[Placeholder: S.M., Scarborough]",
            testimonial3Text: "[Placeholder: It's a relief to have a tax professional who speaks my language and understands my situation. Trustworthy and reliable service every year.]",
            testimonial3Name: "[Placeholder: F.G., Etobicoke]",
            faqTitle: "Frequently Asked Questions",
            faq1Question: "What documents do I need for tax filing?",
            faq1Answer: "You will need your income statements (T4s, T4As, etc.), receipts for eligible deductions and credits, and any other relevant financial documents. A detailed checklist is available upon booking.",
            faq2Question: "How can I maximize my tax refund?",
            faq2Answer: "Maximizing your refund involves identifying all eligible deductions and credits. Our experts will review your situation to ensure you claim everything you qualify for. Proactive tax planning can also help throughout the year.",
            faq3Question: "What if I owe taxes?",
            faq3Answer: "If you owe taxes, it’s crucial to file your return on time to avoid penalties and interest. We can help calculate your tax liability and discuss payment options or strategies if needed.",
            faq4Question: "How long does the tax filing process take?",
            faq4Answer: "The timeline varies depending on the complexity of your return and the volume of submissions. Generally, once we have all necessary documents, the process can take anywhere from a few business days to a couple of weeks. We will provide a more accurate estimate during your appointment.",
            contactTitle: "Contact Us",
            contactDesc: "Have a question or need assistance? Send us a message or use the contact details below.",
            formName: "Name:",
            formEmail: "Email:",
            formMessage: "Message:",
            formSend: "Send Message",
            contactPhone: "Phone:",
            contactEmail: "Email:",
            privacyTitle: "Privacy Policy",
            privacyText: "[Placeholder: This is where you will put your privacy policy...]",
            privacySub1: "Data We Collect",
            privacySub1Text: "[Placeholder: Explain the personal information you collect.]",
            privacySub2: "How We Use Your Data",
            privacySub2Text: "[Placeholder: Explain how you use this data to provide your services.]",
            footerPrivacy: "Privacy Policy",
            footerContact: "Contact Us",
            footerPhone: "Phone:",
            footerEmail: "Email:"
        },
        'am': {
            // --- ADD AMHARIC TRANSLATIONS HERE ---
            navHome: "ዋና ገጽ",
            navAbout: "ስለ እኛ",
            navServices: "አገልግሎቶች",
            navResources: "መርጃዎች",
            navAppointment: "ቀጠሮ ይያዙ",
            navTestimonials: "[Testimonials in Amharic]",
            navFAQ: "[FAQ in Amharic]",
            navContact: "ያግኙን",
            navAdmin: "Admin", // Keep admin in English
            navPrivacy: "[Privacy Policy in Amharic]",
            heroTitle: "ለግብር ፋይል አገልግሎቶች የእርስዎ ታማኝ አጋር",
            heroSubtitle: "[Making tax filing simple in Amharic]",
            heroCTA: "ዛሬውኑ ይጀምሩ!",
            aboutTitle: "ስለ እኛ",
            aboutText: "[About Us text in Amharic...]",
            aboutCredentialsTitle: "[Our Credentials in Amharic]",
            aboutCredential1: "[Your Certification, e.g., CPA, E-filer]",
            aboutCredential2: "[Member of [Association]]",
            aboutCredential3: "[Etc.]",
            servicesTitle: "አገልግሎቶቻችን",
            service1Title: "[Newcomer Return in Amharic]",
            service1Desc: "[Newcomer Return description in Amharic]",
            service2Title: "[Self-Employed / Business Return in Amharic]",
            service2Desc: "[Self-Employed description in Amharic]",
            service3Title: "[Foreign Income & Assets in Amharic]",
            service3Desc: "[Foreign Income description in Amharic]",
            service4Title: "[Standard/Family Return in Amharic]",
            service4Desc: "[Standard/Family description in Amharic]",
            service5Title: "[Tax Consultation & Planning in Amharic]",
            service5Desc: "[Tax Consultation description in Amharic]",
            resourcesTitle: "መርጃዎች እና ዜናዎች",
            resource1Title: "[Tax Guide for Newcomers in Amharic]",
            resource1Desc: "[Tax Guide description in Amharic]",
            resource2Title: "[Tax Tips for Uber in Amharic]",
            resource2Desc: "[Tax Tips description in Amharic]",
            resource3Title: "[What is CCB in Amharic]",
            resource3Desc: "[CCB description in Amharic]",
            appointmentTitle: "ቀጠሮ ይያዙ",
            appointmentDesc: "[Booking description in Amharic]",
            testimonialsTitle: "[What Our Clients Say in Amharic]",
            testimonial1Text: "[Testimonial 1 in Amharic]",
            testimonial1Name: "[Name 1 in Amharic]",
            testimonial2Text: "[Testimonial 2 in Amharic]",
            testimonial2Name: "[Name 2 in Amharic]",
            testimonial3Text: "[Testimonial 3 in Amharic]",
            testimonial3Name: "[Name 3 in Amharic]",
            faqTitle: "[FAQ in Amharic]",
            faq1Question: "[FAQ 1 Question in Amharic]",
            faq1Answer: "[FAQ 1 Answer in Amharic]",
            faq2Question: "[FAQ 2 Question in Amharic]",
            faq2Answer: "[FAQ 2 Answer in Amharic]",
            faq3Question: "[FAQ 3 Question in Amharic]",
            faq3Answer: "[FAQ 3 Answer in Amharic]",
            faq4Question: "[FAQ 4 Question in Amharic]",
            faq4Answer: "[FAQ 4 Answer in Amharic]",
            contactTitle: "ያግኙን",
            contactDesc: "[Contact description in Amharic]",
            formName: "ስም:",
            formEmail: "ኢሜይል:",
            formMessage: "መልዕክት:",
            formSend: "መልዕክት ይላኩ",
            contactPhone: "ስልክ:",
            contactEmail: "ኢሜይል:",
            privacyTitle: "[Privacy Policy in Amharic]",
            privacyText: "[Privacy text in Amharic]",
            privacySub1: "[Data We Collect in Amharic]",
            privacySub1Text: "[Data collection text in Amharic]",
            privacySub2: "[How We Use Your Data in Amharic]",
            privacySub2Text: "[Data use text in Amharic]",
            footerPrivacy: "[Privacy Policy in Amharic]",
            footerContact: "ያግኙን",
            footerPhone: "ስልክ:",
            footerEmail: "ኢሜይል:"
        },
        'ti': {
            // --- ADD TIGRINYA TRANSLATIONS HERE ---
            navHome: "ዋና ገጽ",
            navAbout: "ብዛዕባና",
            navServices: "ኣገልግሎታት",
            navResources: "ምንጭታት",
            navAppointment: "ቆጸራ ምሓዝ",
            navTestimonials: "[Testimonials in Tigrinya]",
            navFAQ: "[FAQ in Tigrinya]",
            navContact: "ተወከሱና",
            navAdmin: "Admin", // Keep admin in English
            navPrivacy: "[Privacy Policy in Tigrinya]",
            heroTitle: "ኣብ ታክስ ፋይሊንግ ኣገልግሎት እሙን መሻርኽትኹም",
            heroSubtitle: "[Making tax filing simple in Tigrinya]",
            heroCTA: "ሎሚ ጀምሩ!",
            aboutTitle: "ብዛዕባና",
            aboutText: "[About Us text in Tigrinya...]",
            aboutCredentialsTitle: "[Our Credentials in Tigrinya]",
            aboutCredential1: "[Your Certification, e.g., CPA, E-filer]",
            aboutCredential2: "[Member of [Association]]",
            aboutCredential3: "[Etc.]",
            servicesTitle: "ኣገልግሎታትና",
            service1Title: "[Newcomer Return in Tigrinya]",
            service1Desc: "[Newcomer Return description in Tigrinya]",
            service2Title: "[Self-Employed / Business Return in Tigrinya]",
            service2Desc: "[Self-Employed description in Tigrinya]",
            service3Title: "[Foreign Income & Assets in Tigrinya]",
            service3Desc: "[Foreign Income description in Tigrinya]",
            service4Title: "[Standard/Family Return in Tigrinya]",
            service4Desc: "[Standard/Family description in Tigrinya]",
            service5Title: "[Tax Consultation & Planning in Tigrinya]",
            service5Desc: "[Tax Consultation description in Tigrinya]",
            resourcesTitle: "ምንጭታትን ዜናን",
            resource1Title: "[Tax Guide for Newcomers in Tigrinya]",
            resource1Desc: "[Tax Guide description in Tigrinya]",
            resource2Title: "[Tax Tips for Uber in Tigrinya]",
            resource2Desc: "[Tax Tips description in Tigrinya]",
            resource3Title: "[What is CCB in Tigrinya]",
            resource3Desc: "[CCB description in Tigrinya]",
            appointmentTitle: "ቆጸራ ምሓዝ",
            appointmentDesc: "[Booking description in Tigrinya]",
            testimonialsTitle: "[What Our Clients Say in Tigrinya]",
            testimonial1Text: "[Testimonial 1 in Tigrinya]",
            testimonial1Name: "[Name 1 in Tigrinya]",
            testimonial2Text: "[Testimonial 2 in Tigrinya]",
            testimonial2Name: "[Name 2 in Tigrinya]",
            testimonial3Text: "[Testimonial 3 in Tigrinya]",
            testimonial3Name: "[Name 3 in Tigrinya]",
            faqTitle: "[FAQ in Tigrinya]",
            faq1Question: "[FAQ 1 Question in Tigrinya]",
            faq1Answer: "[FAQ 1 Answer in Tigrinya]",
            faq2Question: "[FAQ 2 Question in Tigrinya]",
            faq2Answer: "[FAQ 2 Answer in Tigrinya]",
            faq3Question: "[FAQ 3 Question in Tigrinya]",
            faq3Answer: "[FAQ 3 Answer in Tigrinya]",
            faq4Question: "[FAQ 4 Question in Tigrinya]",
            faq4Answer: "[FAQ 4 Answer in Tigrinya]",
            contactTitle: "ተወከሱና",
            contactDesc: "[Contact description in Tigrinya]",
            formName: "ስም:",
            formEmail: "ኢሜይል:",
            formMessage: "መልእኽቲ:",
            formSend: "መልእኽቲ ልኣኹ",
            contactPhone: "ስልኪ:",
            contactEmail: "ኢሜይል:",
            privacyTitle: "[Privacy Policy in Tigrinya]",
            privacyText: "[Privacy text in Tigrinya]",
            privacySub1: "[Data We Collect in Tigrinya]",
            privacySub1Text: "[Data collection text in Tigrinya]",
            privacySub2: "[How We Use Your Data in Tigrinya]",
            privacySub2Text: "[Data use text in Tigrinya]",
            footerPrivacy: "[Privacy Policy in Tigrinya]",
            footerContact: "ተወከሱና",
            footerPhone: "ስልኪ:",
            footerEmail: "ኢሜይል:"
        }
    };

    function switchLanguage(lang) {
        // Set active button
        document.querySelectorAll('.lang-switcher button').forEach(btn => {
            btn.classList.remove('active');
        });
        document.getElementById(`lang-${lang}`).classList.add('active');

        // Iterate over all elements with a data-key
        document.querySelectorAll('[data-key]').forEach(elem => {
            const key = elem.getAttribute('data-key');
            if (translations[lang] && translations[lang][key]) {
                elem.innerText = translations[lang][key];
            }
        });
    }

    // -----------------------------------------------------
    // Hamburger Menu Functionality
    // -----------------------------------------------------
    const hamburgerBtn = document.querySelector('.hamburger');
    const sidePanel = document.getElementById('sidePanel');
    const closeBtn = document.querySelector('.close-btn');
    const overlay = document.getElementById('overlay');
    const navLinks = document.querySelectorAll('#sidePanel nav ul li a');
    const contentWrapper = document.getElementById('content-wrapper');

    function openPanel() {
        sidePanel.classList.add('open');
        overlay.classList.add('visible');
        document.body.classList.add('panel-open');
    }

    function closePanel() {
        sidePanel.classList.remove('open');
        overlay.classList.remove('visible');
         document.body.classList.remove('panel-open');
    }

    hamburgerBtn.addEventListener('click', openPanel);
    closeBtn.addEventListener('click', closePanel);
    overlay.addEventListener('click', closePanel);

    navLinks.forEach(link => {
        link.addEventListener('click', closePanel);
    });

    // -----------------------------------------------------
    // Public Side: Load Resources
    // -----------------------------------------------------
    function loadResources() {
        const resourcesListElement = document.getElementById("resources-list");
        // Keep the placeholder content by default
        // Let's modify this to *add* Firebase content to the existing placeholders
        
        db.collection("resources").orderBy("timestamp", "desc").onSnapshot(snapshot => {
         if (snapshot.empty && resourcesListElement.children.length > 0) {
             // If Firebase is empty but we have placeholders, do nothing
             return;
         }
         
         // If Firebase has content, clear placeholders and load from DB
         if (!snapshot.empty) {
           resourcesListElement.innerHTML = ""; // Clear placeholders
           snapshot.forEach(doc => {
               const data = doc.data();
               let postedOn = data.timestamp
                 ? new Date(data.timestamp.seconds * 1000).toLocaleDateString()
                 : "No date available";
               
               const resourceHTML = `
                 <div class="resource-card" tabindex="0">
                   <h3>${data.title}</h3>
                   <p>${data.content}</p>
                   <small>Posted on: ${postedOn}</small>
                 </div>
               `;
               resourcesListElement.innerHTML += resourceHTML;
           });
         } else {
           // Firebase is empty AND we have no placeholders
           resourcesListElement.innerHTML = '<p style="text-align: center; grid-column: 1/-1;">No news or resources available yet.</p>';
         }
        }, error => {
            resourcesListElement.innerHTML = '<p style="text-align: center; grid-column: 1/-1; color: red;">Error loading resources.</p>';
            console.error("Error loading resources: ", error);
        });
    }
    loadResources();
    
    // REMOVED Appointment Form JS, as it's replaced by Calendly
    
    // -----------------------------------------------------
    // Contact Form (NEW FUNCTIONALITY)
    // -----------------------------------------------------
    document.getElementById("contact-form").addEventListener("submit", function(e) {
      e.preventDefault();
      const contactFormMessageDiv = document.getElementById("form-message");
      contactFormMessageDiv.textContent = "Sending your message...";
      contactFormMessageDiv.className = "";

      const name = document.getElementById("contact-name").value;
      const email = document.getElementById("contact-email").value;
      const message = document.getElementById("contact-message").value;
      
      db.collection("messages").add({
        name,
        email,
        message,
        timestamp: firebase.firestore.FieldValue.serverTimestamp()
      })
      .then(() => {
        contactFormMessageDiv.textContent = "Thank you for reaching out! We have received your message and will get back to you shortly.";
        contactFormMessageDiv.className = "success-message";
        document.getElementById("contact-form").reset();
      })
      .catch(error => {
        contactFormMessageDiv.textContent = "Error sending your message. Please try again or email us directly.";
        contactFormMessageDiv.className = "error-message";
        console.error("Error adding message: ", error);
      });
    });

    // -----------------------------------------------------
    // Admin Panel: Authentication and Management Functions
    // -----------------------------------------------------
    document.getElementById("admin-login-form").addEventListener("submit", function(e) {
        e.preventDefault();
        const email = document.getElementById("admin-email").value;
        const password = document.getElementById("admin-password").value;
        
        if (!email || !password) {
            alert("Please enter email and password.");
            return;
        }

        auth.signInWithEmailAndPassword(email, password)
          .then(() => {
            document.getElementById("admin-email").value = "";
            document.getElementById("admin-password").value = "";
          })
          .catch(error => {
            alert("Login Error: " + error.message);
          });
    });

    auth.onAuthStateChanged(user => {
        const adminAuthSection = document.getElementById("admin-auth-section");
        const adminContent = document.getElementById("admin-content");

        if (user) {
            adminAuthSection.style.display = "none";
            adminContent.style.display = "block";
            loadAppointments();
            loadAdminResources();
            loadMessages(); // NEW: Load messages for admin
        } else {
            adminAuthSection.style.display = "block";
            adminContent.style.display = "none";
            document.getElementById("appointments-list").innerHTML = "";
            document.getElementById("admin-resources-list").innerHTML = "";
            document.getElementById("admin-messages-list").innerHTML = ""; // NEW: Clear messages
        }
    });

    document.getElementById("logout-btn").addEventListener("click", function() {
        auth.signOut().catch((error) => {
            console.error("Logout Error:", error);
            alert("Error logging out. Please try again.");
        });
    });

    // Renamed from "news-form"
    document.getElementById("resources-form").addEventListener("submit", function(e) {
        e.preventDefault();
        const titleInput = document.getElementById("resources-title");
        const contentInput = document.getElementById("resources-content");
        
        const title = titleInput.value;
        const content = contentInput.value;

        if (!title || !content) {
            alert("Please enter both title and content for the resource.");
            return;
        }
        
        db.collection("resources").add({ // Post to "resources" collection
          title,
          content,
          timestamp: firebase.firestore.FieldValue.serverTimestamp()
        })
        .then(() => {
          alert("Resource posted successfully!");
          titleInput.value = "";
          contentInput.value = "";
        })
        .catch(error => {
          alert("Error posting resource: " + error.message);
          console.error("Error posting resource: ", error);
        });
    });

    function loadAppointments() {
         const appointmentsListElement = document.getElementById("appointments-list");
         appointmentsListElement.innerHTML = '<p>Loading appointments...</p>';
         
         db.collection("appointments").orderBy("date", "desc").orderBy("time", "asc").onSnapshot(snapshot => {
             if (snapshot.empty) {
                 appointmentsListElement.innerHTML = '<p>No appointments found.</p>';
                 return;
             }

             const appointmentsByDate = {};

             snapshot.forEach(doc => {
                 const data = doc.data();
                 const date = data.date; //YYYY-MM-DD string
                 if (!appointmentsByDate[date]) {
                     appointmentsByDate[date] = [];
                 }
                 appointmentsByDate[date].push({ id: doc.id, ...data });
             });

             let apptsHTML = "";
             const sortedDates = Object.keys(appointmentsByDate).sort((a, b) => b.localeCompare(a));

             sortedDates.forEach(date => {
                 apptsHTML += `
                     <div class="appointment-date-group">
                         <h4>${date}</h4>
                         <ul>
                 `;
                 appointmentsByDate[date].forEach(appt => {
                     let requestedOn = appt.timestamp
                         ? new Date(appt.timestamp.seconds * 1000).toLocaleString()
                         : "No date available";
                     apptsHTML += `
                         <li>
                             <strong>${appt.time}</strong> - ${appt.name} - ${appt.email} - ${appt.phone}<br>
                             Service: ${appt.service}<br>
                             <small>Submitted on: ${requestedOn}</small>
                         </li>
                     `;
                 });
                 apptsHTML += `
                         </ul>
                     </div>
                 `;
             });
             appointmentsListElement.innerHTML = apptsHTML;
         }, error => {
             appointmentsListElement.innerHTML = '<p style="color: red;">Error loading appointments.</p>';
             console.error("Error loading appointments: ", error);
         });
    }

    // NEW FUNCTION: Load Messages for Admin
    function loadMessages() {
        const messagesListElement = document.getElementById("admin-messages-list");
        messagesListElement.innerHTML = '<p>Loading messages...</p>';

        db.collection("messages").orderBy("timestamp", "desc").onSnapshot(snapshot => {
            if (snapshot.empty) {
                // (FIX) Fixed typo here </sppan> -> </p>
                messagesListElement.innerHTML = '<p>No messages found.</p>';
                return;
            }
            
            let messagesHTML = "<ul>";
            snapshot.forEach(doc => {
                const data = doc.data();
                let receivedOn = data.timestamp
                    ? new Date(data.timestamp.seconds * 1000).toLocaleString()
                    : "No date available";
                
                messagesHTML += `
                    <li>
                        <div class="msg-header">
                            From: ${data.name} (${data.email})
                        </div>
                        <div class="msg-content">
                            ${data.message}
                        </div>
                        <small>Received on: ${receivedOn}</small>
                    </li>
                `;
            });
            messagesHTML += "</ul>";
            messagesListElement.innerHTML = messagesHTML;

        }, error => {
            messagesListElement.innerHTML = '<p style="color: red;">Error loading messages.</p>';
            console.error("Error loading messages: ", error);
        });
    }

    // Renamed from loadAdminNews
    function loadAdminResources() {
        const adminResourcesListElement = document.getElementById("admin-resources-list");
        adminResourcesListElement.innerHTML = '<p>Loading resources...</p>';

        db.collection("resources").orderBy("timestamp", "desc").onSnapshot(snapshot => {
         let resourcesHTML = "<ul>";
           if (snapshot.empty) {
             resourcesHTML = '<p>No resource posts found.</p>';
         } else {
             snapshot.forEach(doc => {
                 const data = doc.data();
                 let postedOn = data.timestamp
                   ? new Date(data.timestamp.seconds * 1000).toLocaleDateString()
                   : "No date available";
                 resourcesHTML += `<li>
                                   <div>
                                       <strong>${data.title}</strong> - Posted on: ${postedOn}
                                   </div>
                                   <button onclick="deleteResource('${doc.id}')" aria-label="Delete resource ${data.title}">Delete</button>
                                 </li>`;
             });
             resourcesHTML += "</ul>";
         }
          adminResourcesListElement.innerHTML = resourcesHTML;
        }, error => {
            adminResourcesListElement.innerHTML = '<p style="color: red;">Error loading resources for admin.</p>';
            console.error("Error loading admin resources: ", error);
        });
    }

    // Renamed from deleteNews
    function deleteResource(resourceId) {
      if (confirm("Are you sure you want to delete this resource?")) {
        db.collection("resources").doc(resourceId).delete().then(() => {
          console.log("Resource deleted successfully.");
        }).catch(error => {
          // (FIX) Removed stray "AF" from alert message
          alert("Error deleting resource: " + error.message);
          console.error("Error deleting resource: ", error);
        });
      }
    }

    // FAQ toggle functionality
    document.querySelectorAll('.faq-item').forEach(function(item) {
        item.addEventListener('click', toggleFAQ);
        item.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                toggleFAQ.call(this);
            }
        });
    });

    function toggleFAQ() {
      var answer = this.nextElementSibling;
      var isVisible = answer.style.display === "block";

      // Optional: Close all other open answers
      document.querySelectorAll('.faq-answer').forEach(function(ans) {
          if (ans !== answer && ans.style.display === "block") {
              ans.style.display = "none";
          }
      });

      answer.style.display = isVisible ? "none" : "block";
    }

  </script>

  <script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js" async></script>

</body>
</html>
